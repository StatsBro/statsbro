@using StatsBro.Domain.Models.DTO

@model UserEditFormModel

@{
    Layout = "_Layout";
}
<div class="pagetitle">
    <h1>Edycja użytkownika</h1>
    <nav>
        <ol class="breadcrumb">
            <li class="breadcrumb-item active"><a asp-controller="Home" asp-action="UsersManagementEdit">Edycja użytkownika</a></li>
        </ol>
    </nav>
</div><!-- End Page Title -->
<div class="card col-12 col-md-6">
    <div class="card-body">
        <h5 class="card-title">Edycja użytkownika <strong>@Model.Email</strong></h5>
        <form class="row g-3" asp-action="UsersManagementEditSave">
            @await Html.PartialAsync("/Views/Shared/ValidationErrors.cshtml")
            
            <div class="col-12">
                <label for="yourEmail" class="form-label">Email</label>
                <input type="email" name="email" class="form-control" id="email" value="@Model.Email" required>
            </div>

            <div class="col-12">
                <label for="yourPassword" class="form-label">Hasło (pozostaw pole puste jeśli nie chcesz zmieniać)</label>
                <input type="password" name="password" class="form-control" id="password">
            </div>

            <div class="col-12">
                <input type="hidden" name="id" value="@Model.Id" />
                <button class="btn btn-primary" type="submit">Zapisz</button>
                <a class="btn btn-danger" data-toggle="modal" data-bs-toggle="modal" data-bs-target="#modalDeleteQuestion">Usuń</a>
            </div>
        </form>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="modalDeleteQuestion" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <form class="row g-3" asp-action="UsersManagementEditDelete">
                <input type="hidden" name="id" value="@Model.Id" />
                <input type="hidden" name="email" value="@Model.Email" />
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Usuwanie użytkownika</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    Czy chcesz usunąć użytkownika <strong>@Model.Email</strong>?
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Anuluj</button>
                    <button class="btn btn-danger" type="submit">Usuń</button>
                </div>
            </form>
        </div>
    </div>
</div>
